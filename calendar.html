<!DOCTYPE html>
<html lang="en">

<div w3-include-html="head.html"></div>

<body>
<div id="wrapper">
<div w3-include-html="nav.html"></div>

        <div id="page-wrapper">

            <div class="container-fluid">

                <!-- Page Heading -->
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">
                            Drag and Drop Calendar (jQuery)
                            <small>Subheading</small>
                        </h1>
                    </div>
                </div>
                		<div class="row" style="margin-left:5px">
                		<div id="external-events" class="col-lg-5">
            <input placeholder="Create Event" style="width:100px; margin-top:10px; margin-bottom: 5px"/>
            <button>Add</button>
			<h4>Draggable Events</h4>
			<div class='fc-event'>My Event 1</div>
			<div class='fc-event'>My Event 2</div>
			<div class='fc-event'>My Event 3</div>
			<div class='fc-event'>My Event 4</div>
			<div class='fc-event'>My Event 5</div>
			<p>
				<input type='checkbox' id='drop-remove' />
				<label for='drop-remove'>remove after drop</label>
			</p>
		</div>
                <div id="calendar" class="col-lg-8"></div>
                
                </div>
                <!-- /.row -->

            </div>
            <!-- /.container-fluid -->

        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <script src="js/w3data.js"></script>
    <script>
w3IncludeHTML();
    </script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
   <script src='lib/moment.min.js'></script>
    <script src='lib/jquery.min.js'></script>
    <script src='lib/fullcalendar.min.js'></script>
    <script src='lib/jquery-ui.min.js'></script>
    <script>

	$(document).ready(function() {
		$('#external-events .fc-event').each(function() {

			// store data so the calendar knows to render an event upon drop
			$(this).data('event', {
				title: $.trim($(this).text()), // use the element's text as the event title
				stick: true // maintain when user navigates (see docs on the renderEvent method)
			});

			// make the event draggable using jQuery UI
			$(this).draggable({
				zIndex: 999,
				revert: true,      // will cause the event to go back to its
				revertDuration: 0  //  original position after the drag
			});

		});
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay,listMonth'
			},
			defaultDate: '2016-12-12',
			navLinks: true, // can click day/week names to navigate views
			businessHours: true, // display business hours
			editable: true,
            			editable: true,
			droppable: true, // this allows things to be dropped onto the calendar
			events: [
				{
					title: 'Business Lunch',
					start: '2016-12-03T13:00:00',
					constraint: 'businessHours'
				},
				{
					title: 'Meeting',
					start: '2016-12-13T11:00:00',
					constraint: 'availableForMeeting', // defined below
					color: '#257e4a'
				},
				{
					title: 'Conference',
					start: '2016-12-18',
					end: '2016-12-20'
				},
				{
					title: 'Party',
					start: '2016-12-29T20:00:00'
				},

				// areas where "Meeting" must be dropped
				{
					id: 'availableForMeeting',
					start: '2016-12-11T10:00:00',
					end: '2016-12-11T16:00:00',
					rendering: 'background'
				},
				{
					id: 'availableForMeeting',
					start: '2016-12-13T10:00:00',
					end: '2016-12-13T16:00:00',
					rendering: 'background'
				},

				// red areas where no events can be dropped
				{
					start: '2016-12-24',
					end: '2016-12-28',
					overlap: false,
					rendering: 'background',
					color: '#ff9f89'
				},
				{
					title: 'test event',
                    start: '2017-02-07',
					end: '2017-02-07',
					color: 'red'
				},
				{
					start: '2016-12-06',
					end: '2016-12-08',
					overlap: false,
					rendering: 'background',
					color: '#ff9f89'
				}
			]
		});
        		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
			editable: true,
			droppable: true, // this allows things to be dropped onto the calendar
			drop: function() {
				// is the "remove after drop" checkbox checked?
				if ($('#drop-remove').is(':checked')) {
					// if so, remove the element from the "Draggable Events" list
					$(this).remove();
				}
			}
		});
		
	});

    </script>
</body>

</html>
