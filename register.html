<!DOCTYPE html>
<html lang="en">

<div w3-include-html="head.html"></div>


<body>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="login-panel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Register</h3>
                    </div>
                    <div class="panel-body">
                        <form id='registration' role="form">
                            <fieldset>
                               <div class="form-group">
                                    <input class="form-control" placeholder="First Name" name="fname" type="fname" autofocus required>
                                </div>
                               <div class="form-group">
                                    <input class="form-control" placeholder="Last Name" name="lname" type="lname" autofocus required>
                                </div>
                                <div class="form-group">

                                                                      <input class="form-control" placeholder="E-mail" name="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" id="exampleInputEmail2" autofocus required>
   
  
                                </div>
                                <div class="form-group">
                                    <input class="form-control" placeholder="Password" name="password"autofocus type="password" id="password" onkeyup = "checkPass();"required>
<p><small>Must contain an uppercase and lowercase letter, number and min. 8 characters</small></p>
                                </div>
                                <div class="form-group">
                                    <input class="form-control" placeholder="Repeat Password" name="rpassword"autofocus type="password" id="rpassword" onkeyup="checkPass(); return false;" required>
                                </div>
 

                                <button type ="submit" class="btn btn-lg btn-success btn-block">Register</button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/w3data.js"></script>
    <script>
w3IncludeHTML();
    </script>
    <script>
      function checkPass()
{
    //Store the password field objects into variables ...
    var pass1 = document.getElementById('password');
    var pass2 = document.getElementById('rpassword');
    
    //Minimum 8 characters at least 1 Uppercase Alphabet, 1 Lowercase Alphabet and 1 Number
    var re1 = new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$");
    //Returns true if password matches requirements
    var valid = re1.test(pass1.value);
    console.log(valid)
    
    //Store the Confimation Message Object ...
    var message = document.getElementById('confirmMessage');
    //Set the colors we will be using ...
    var goodColor = "#66cc66";
    var badColor = "#ff6666";
    //Compare the values in the password field 
    //and the confirmation field
    match = pass1.value == pass2.value;
    if(!valid){
        //The passwords match. 
        //Set the color to the good color and inform
        //the user that they have entered the correct password 
        pass1.style.backgroundColor = badColor;
        message.style.color = goodColor;
        
    }else if(pass1.value == pass2.value && valid){
        //The passwords do not match.
        console.log('error pass2');
        //Set the color to the bad color and
        //notify the user.
        pass1.style.backgroundColor = goodColor;
        pass2.style.backgroundColor = goodColor;
        
    }
    else if(!match){
    pass2.style.backgroundColor = badColor;
    }
    
    if(valid){
            
        pass1.style.backgroundColor = goodColor;
    }else{

        console.log('error');

        pass1.style.backgroundColor = badColor;
    }
} 
    </script>
    <script src="js/jquery.js"></script>
    <script>
    // this is the id of the form
$("#registration").submit(function(e) {
    
    var url = "php/register_request.php"; // the script where you handle the form input.

    $.ajax({
           type: "POST",
           url: url,
           data: $("#registration").serializeArray(), // serializes the form's elements.
           success: function(data)
           {
               window.location.href = 'login.php';
           }
         });

    e.preventDefault(); // avoid to execute the actual submit of the form.
});
    </script>
    

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>